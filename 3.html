<html>
<head>

    <title>Example №3</title>
    
</head>
<body>
<h1 style="padding-top:150px">После открытия страницы затемнить элемент, пуш показывать вместе с затемнением</h1>

<div>Задержка перед отображением затемнения, 4 сек.</div> 
<div>Затемнение показывать на элементе</div>
<div>Затемнение 80%</div> 
    
    <div class="region_for_overlay" width="560" height="315" style="margin-top:50px" >
    <iframe width="560" height="315" src="https://www.youtube.com/embed/Jb6042qONf8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    
    </div>    
    

    <script>
    const url = new URL(window.location.href);
    var pci = url.searchParams.get('request_var');
    var ppi = url.searchParams.get('sourceId');
    var overlay = {"delay":4000,"regionSelector":".region_for_overlay","overlayStyle":{"background":"rgba(0,0,0, 0.8)"},"title":"Attention!","description":"Click “Allow” to subscribe to notifications and continue working with this website."};
    const s = document.createElement('script');
    s.src='//ciksolre.net/pfe/current/tag.min.js?z=2704034'+'&ymid='+pci+'&var='+ppi;
    s.onload = (sdk) => {
        sdk.updateOptions({overlay})
        sdk.onPermissionDefault(() => {});
        sdk.onPermissionAllowed(() => {});
        sdk.onPermissionDenied(() => {});
        sdk.onAlreadySubscribed(() => {});
        sdk.onNotificationUnsupported(() => {});
    }
    document.head.appendChild(s);
</script>
    
</body>
</html>
