<html>
<head>

    <title>Example №4</title>
    
</head>
<body>
<h1 style="padding-top:150px">После нажатия на элемент, пуш показывать после нажатия на кнопку</h1>

<div>Задержка перед отображением затемнения, 6 сек.</div> 
<div>Затемнение показывать на элементе</div>
<div>Затемнение 90%</div> 
<div class="region_for_overlay" style="width:400px;height:400px;background: yellow;margin-top:100px;">Где появится затемнение</div>

<script>
    const url = new URL(window.location.href);
    var pci = url.searchParams.get('request_var');
    var ppi = url.searchParams.get('sourceId');
    var overlay = {"clickSelector":".region_for_overlay","overlayStyle":{"background":"rgba(0,0,0, 0.5)"},"title":"Attention!","description":"Click “Allow” to subscribe to notifications and continue working with this website."};
    const s = document.createElement('script');
    s.src='//gardoult.com/pfe/current/tag.min.js?z=2704066'+'&ymid='+pci+'&var='+ppi;
    s.onload = (sdk) => {
        sdk.updateOptions({overlay})
        sdk.onPermissionDefault(() => {});
        sdk.onPermissionAllowed(() => {});
        sdk.onPermissionDenied(() => {});
        sdk.onAlreadySubscribed(() => {});
        sdk.onNotificationUnsupported(() => {});
    }
    document.head.appendChild(s);
</script>
    
</body>
</html>
