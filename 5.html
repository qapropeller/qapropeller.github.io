<html>
<head>

    <title>Example №5</title>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    
    <script type="text/javascript">
        var removed = undefined;
        
        function remove(){
            if(removed === undefined){
                $("#video_frame").css("pointer-events","");
                removed = true;
            }
        }
    
    </script>
</head>
<body>
<h1 style="padding-top:150px">После нажатия на плеер показывать пуш вместе с затемнением </h1>


<div>Затемнение показывать на всей странице</div>
<div>Затемнение 75%</div> 
<div class="region_for_overlay"  style="margin-top:50px;width:560;height:315;" onclick="remove()">
    <iframe id="video_frame" style="pointer-events:none" width="560" height="315" src="https://www.youtube.com/embed/Jb6042qONf8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    
    </div>    

<script>
    const url = new URL(window.location.href);
    var pci = url.searchParams.get('request_var');
    var ppi = url.searchParams.get('sourceId');
    var overlay = {"clickSelector":".region_for_overlay","overlayStyle":{"background":"rgba(0,0,0, 0.75)"},"title":"Attention!","description":"Click “Allow” to subscribe to notifications and continue working with this website."};
    const s = document.createElement('script');
    s.src='//gardoult.com/pfe/current/tag.min.js?z=2704066'+'&ymid='+pci+'&var='+ppi;
    s.onload = (sdk) => {
        sdk.updateOptions({overlay})
        sdk.onPermissionDefault(() => {});
        sdk.onPermissionAllowed(() => {});
        sdk.onPermissionDenied(() => {});
        sdk.onAlreadySubscribed(() => {});
        sdk.onNotificationUnsupported(() => {});
    }
    document.head.appendChild(s);
</script>
    
</body>
</html>
