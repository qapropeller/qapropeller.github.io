<html>
<head>

    <title>Example №4</title>
    
</head>
<body>
<h1 style="padding-top:150px">После открытия страницы затемнить плеер, пуш показывать после нажатия на кнопку</h1>

<div>Задержка перед отображением затемнения, 6 сек.</div> 
<div>Затемнение показывать на элементе</div>
<div>Затемнение 90%</div> 
<div class="region_for_overlay" style="width:400px;height:400px;background: yellow;margin-top:100px;">Где появится затемнение</div>

 <script>
    const url = new URL(window.location.href);
    var pci = url.searchParams.get('request_var');
    var ppi = url.searchParams.get('sourceId');
    var overlay = {"delay":6000,"regionSelector":".region_for_overlay","overlayStyle":{"background":"rgba(0,0,0, 0.9)"},"buttonText":"Click here","buttonStyle":{"background":"#555555","color":"#d9e3f0"},"title":"Attention!","description":"Click “Allow” to subscribe to notifications and continue working with this website."};
    const s = document.createElement('script');
    s.src='//humsoolt.net/pfe/current/tag.min.js?z=2704051'+'&ymid='+pci+'&var='+ppi;
    s.onload = (sdk) => {
        sdk.updateOptions({overlay})
        sdk.onPermissionDefault(() => {});
        sdk.onPermissionAllowed(() => {});
        sdk.onPermissionDenied(() => {});
        sdk.onAlreadySubscribed(() => {});
        sdk.onNotificationUnsupported(() => {});
    }
    document.head.appendChild(s);
</script>
    
</body>
</html>
